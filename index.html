<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Premium Flower Shop</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <style>
    /* Floating / fade animations */
    @keyframes float { 0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)} }
    .animate-float{animation:float 4s ease-in-out infinite}
    @keyframes fadeInUp{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:none}}
    .animate-fadeInUp{animation:fadeInUp .9s ease both}
    /* subtle card entrance */
    .card-enter{transform:translateY(8px);opacity:0;transition:all .28s ease}
    .card-enter.show{transform:none;opacity:1}
  </style>
</head>
<body id="body" class="font-sans text-gray-800 bg-gray-50 transition-colors duration-300">

<!-- DARK MODE + CART TOGGLE -->
<button id="darkToggle" aria-label="Toggle dark mode" class="fixed z-50 bottom-6 right-6 bg-white/90 dark:bg-gray-800 text-gray-800 dark:text-white px-4 py-2 rounded-full shadow-lg">ðŸŒ™</button>
<button id="cartToggle" aria-label="Open cart" class="fixed z-50 bottom-6 right-24 bg-orange-500 text-white px-4 py-2 rounded-full shadow-lg">ðŸ›’ <span id="cartCount" class="ml-2 font-semibold">0</span></button>

<!-- MOBILE NAVIGATION PANEL -->
<div id="mobilePanel" class="fixed inset-y-0 left-0 w-0 md:hidden bg-white shadow-lg overflow-hidden transition-all z-40">
  <div class="p-6">
    <button id="mobileClose" class="text-2xl mb-6">âœ•</button>
    <nav class="flex flex-col gap-4 text-lg">
      <a href="#" class="font-medium">Home</a>
      <a href="#" class="">Shop</a>
      <a href="#" class="">About</a>
      <a href="#" class="">Contact</a>
    </nav>
  </div>
</div>

<!-- NAVBAR -->
<header class="w-full bg-white/80 backdrop-blur sticky top-0 z-30 shadow-sm">
  <div class="max-w-7xl mx-auto flex items-center justify-between px-6 md:px-10 py-4">
    <div class="flex items-center gap-6">
      <img src="assets/logo.png" alt="Flower logo" class="w-24" />
      <div class="hidden md:flex items-center bg-white rounded-full shadow px-3 py-1">
        <input id="search" type="search" placeholder="Search flowers, e.g. rose" class="outline-none px-2 w-64 bg-transparent" />
        <select id="filter" class="ml-2 bg-transparent outline-none">
          <option value="all">All</option>
          <option value="under50">Under $50</option>
          <option value="50to80">$50 - $80</option>
          <option value="80plus">$80+</option>
        </select>
      </div>
    </div>

    <div class="flex items-center gap-6">
      <ul class="hidden md:flex items-center gap-8 text-gray-700 font-medium">
        <li><a href="#">Home</a></li>
        <li><a href="#">Shop</a></li>
        <li><a href="#">About</a></li>
      </ul>

      <button id="mobileOpen" class="md:hidden text-3xl">â˜°</button>
    </div>
  </div>
</header>

<main class="max-w-7xl mx-auto px-6 md:px-10">
  <!-- HERO -->
  <section class="flex flex-col-reverse md:flex-row items-center gap-8 py-16">
    <div class="max-w-xl animate-fadeInUp">
      <h1 class="text-4xl md:text-6xl font-extrabold leading-tight">ALWAYS <span class="text-pink-600">FRESH FLOWERS</span></h1>
      <p class="mt-6 text-gray-600">Premium hand-selected arrangements and plants â€” delivered with care.</p>
      <div class="mt-6 flex gap-4">
        <button id="ctaShop" class="bg-pink-600 text-white px-6 py-3 rounded-lg shadow hover:bg-pink-700 transition">Shop Now</button>
        <button id="ctaExplore" class="border border-pink-600 text-pink-600 px-6 py-3 rounded-lg hover:bg-pink-50 transition">Explore</button>
      </div>
    </div>
    <div class="w-full md:w-1/2 flex justify-center">
      <img src="assets/hero-flower.png" alt="hero" class="w-72 md:w-[480px] animate-float drop-shadow-2xl rounded-lg" />
    </div>
  </section>

  <!-- PRODUCT CONTROLS -->
  <section class="flex flex-col lg:flex-row items-center justify-between gap-4 mb-8">
    <div class="flex items-center gap-3">
      <label class="text-sm text-gray-600">Sort:</label>
      <select id="sort" class="px-3 py-2 rounded-md">
        <option value="popular">Most Popular</option>
        <option value="price-asc">Price: Low â†’ High</option>
        <option value="price-desc">Price: High â†’ Low</option>
      </select>
    </div>

    <div class="flex gap-3 items-center">
      <button id="viewGrid" class="px-3 py-2 bg-white rounded-md shadow">Grid</button>
      <button id="viewList" class="px-3 py-2 bg-white rounded-md shadow">List</button>
    </div>
  </section>

  <!-- PRODUCTS GRID (DYNAMIC) -->
  <section id="products" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    <!-- Cards injected by JS -->
  </section>

  <!-- LOAD MORE -->
  <div class="text-center my-10">
    <button id="loadMore" class="px-6 py-3 bg-orange-500 text-white rounded-lg shadow">Load More</button>
  </div>
</main>

<!-- NEWSLETTER -->
<section class="bg-[url('./assets/news-letter-bg.png')] bg-cover bg-center py-20 mt-12">
  <div class="max-w-3xl mx-auto text-center text-white">
    <h3 class="text-3xl font-bold mb-4">Join the Colorful Bunch</h3>
    <p class="mb-6">Get freshest deals & new arrivals in your inbox.</p>
    <div class="flex max-w-lg mx-auto">
      <input id="newsletterEmail" class="flex-1 px-4 py-3 rounded-l-md" placeholder="Your email" />
      <button id="newsletterBtn" class="bg-orange-500 px-6 py-3 rounded-r-md text-white">Subscribe</button>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="bg-white border-t mt-16">
  <div class="max-w-7xl mx-auto px-6 py-12 grid grid-cols-1 md:grid-cols-3 gap-8">
    <div>
      <img src="assets/logo.png" alt="logo" class="w-28 mb-4" />
      <p class="text-gray-600">Fresh flowers, delivered quickly and beautifully packaged.</p>
    </div>
    <div class="flex justify-between">
      <ul class="space-y-2 text-gray-700">
        <li><a href="#" class="hover:underline">Home</a></li>
        <li><a href="#" class="hover:underline">Shop</a></li>
        <li><a href="#" class="hover:underline">About</a></li>
      </ul>
      <ul class="space-y-2 text-gray-700">
        <li><a href="#" class="hover:underline">Privacy</a></li>
        <li><a href="#" class="hover:underline">Terms</a></li>
        <li><a href="#" class="hover:underline">Support</a></li>
      </ul>
    </div>
    <div class="flex flex-col items-start gap-3">
      <div class="flex gap-3">
        <img src="assets/icon-facebook.png" class="w-7" />
        <img src="assets/icon-twitter.png" class="w-7" />
        <img src="assets/icon-instagram.png" class="w-7" />
      </div>
      <p class="text-sm text-gray-500">Â© <span id="year"></span> Flower Shop. All rights reserved.</p>
    </div>
  </div>
</footer>

<!-- CART DRAWER -->
<aside id="cartDrawer" class="fixed right-0 top-0 h-full w-0 overflow-hidden bg-white shadow-lg transition-all z-50">
  <div class="p-6 flex flex-col h-full">
    <div class="flex items-center justify-between">
      <h3 class="text-xl font-bold">Your Cart</h3>
      <button id="closeCart">âœ•</button>
    </div>
    <div id="cartItems" class="flex-1 mt-6 overflow-auto space-y-4"></div>
    <div class="mt-4">
      <div class="flex items-center justify-between font-bold mb-4"><span>Total</span><span id="cartTotal">$0</span></div>
      <button id="checkout" class="w-full bg-pink-600 text-white py-3 rounded-lg">Checkout</button>
    </div>
  </div>
</aside>

<script>
/* ---------------------- DATA ---------------------- */
const PRODUCTS = [
  { id:1, name:"Lilly Blossom", price:56, img:"assets/sample-flower-image.png", slug:"lilly-blossom" },
  { id:2, name:"Rose Heaven", price:72, img:"assets/sample-flower-image.png", slug:"rose-heaven" },
  { id:3, name:"Tulip Charm", price:44, img:"assets/sample-flower-image.png", slug:"tulip-charm" },
  { id:4, name:"Daisy Bloom", price:38, img:"assets/sample-flower-image.png", slug:"daisy-bloom" },
  { id:5, name:"Orchid Gold", price:90, img:"assets/sample-flower-image.png", slug:"orchid-gold" },
  { id:6, name:"Blossom Mix", price:110, img:"assets/sample-flower-image.png", slug:"blossom-mix" },
  { id:7, name:"Sunshine Petals", price:66, img:"assets/sample-flower-image.png", slug:"sunshine-petals" },
  { id:8, name:"Garden Fresh", price:50, img:"assets/sample-flower-image.png", slug:"garden-fresh" }
];

/* ---------------------- UI HOOKS ---------------------- */
const productsEl = document.getElementById('products');
const searchEl = document.getElementById('search');
const filterEl = document.getElementById('filter');
const sortEl = document.getElementById('sort');
const loadMoreBtn = document.getElementById('loadMore');
const cartToggle = document.getElementById('cartToggle');
const cartDrawer = document.getElementById('cartDrawer');
const cartItemsEl = document.getElementById('cartItems');
const cartCountEl = document.getElementById('cartCount');
const cartTotalEl = document.getElementById('cartTotal');
const closeCartBtn = document.getElementById('closeCart');
let visibleCount = 8; // pagination
let cart = JSON.parse(localStorage.getItem('cart')||'[]');

/* ---------------------- RENDER PRODUCTS ---------------------- */
function priceFilter(product, filter){
  if(filter==='all') return true;
  if(filter==='under50') return product.price<50;
  if(filter==='50to80') return product.price>=50 && product.price<=80;
  if(filter==='80plus') return product.price>80;
}

function applySearchFilterSort(){
  const q = searchEl?.value?.toLowerCase() || '';
  const f = filterEl?.value || 'all';
  const s = sortEl?.value || 'popular';

  let arr = PRODUCTS.filter(p=> p.name.toLowerCase().includes(q) && priceFilter(p,f));

  if(s==='price-asc') arr.sort((a,b)=>a.price-b.price);
  if(s==='price-desc') arr.sort((a,b)=>b.price-a.price);

  return arr;
}

function renderProducts(){
  const data = applySearchFilterSort();
  const show = data.slice(0, visibleCount);

  productsEl.innerHTML = show.map(p=> productCardHTML(p)).join('');
  attachAddListeners();
}

function productCardHTML(p){
  return `
  <div class="bg-white rounded-xl shadow card-enter" data-id="${p.id}">
    <div class="h-40 overflow-hidden rounded-t-xl">
      <img src="${p.img}" alt="${p.name}" class="w-full h-full object-cover" />
    </div>
    <div class="p-4 text-center">
      <h4 class="font-semibold">${p.name}</h4>
      <p class="text-orange-500 font-bold mt-1">$${p.price}</p>
      <div class="mt-4 flex gap-2">
        <button class="addToCart flex-1 py-2 rounded-md bg-orange-500 text-white" data-id="${p.id}">Add</button>
        <button class="viewBtn border px-3 py-2 rounded-md" data-id="${p.id}">View</button>
      </div>
    </div>
  </div>`;
}

/* ---------------------- CART ---------------------- */
function saveCart(){ localStorage.setItem('cart', JSON.stringify(cart)); }
function updateCartUI(){
  cartCountEl.textContent = cart.reduce((s,i)=>s+i.qty,0);
  cartItemsEl.innerHTML = cart.map(item=>`
    <div class="flex items-center gap-3">
      <img src="${item.img}" class="w-14 h-14 object-cover rounded" />
      <div class="flex-1">
        <div class="font-semibold">${item.name}</div>
        <div class="text-sm text-gray-500">$${item.price} x ${item.qty}</div>
      </div>
      <div class="flex flex-col gap-1">
        <button class="inc" data-id="${item.id}">+</button>
        <button class="dec" data-id="${item.id}">-</button>
      </div>
    </div>
  `).join('');
  const total = cart.reduce((s,i)=>s+i.price*i.qty,0);
  cartTotalEl.textContent = `$${total.toFixed(2)}`;
  saveCart();
}

function addToCart(id){
  const prod = PRODUCTS.find(p=>p.id===+id);
  const exist = cart.find(x=>x.id===prod.id);
  if(exist) exist.qty++;
  else cart.push({...prod, qty:1});
  updateCartUI();
  openCart();
}

function attachAddListeners(){
  document.querySelectorAll('.addToCart').forEach(btn=> btn.onclick = ()=> addToCart(btn.dataset.id));
  document.querySelectorAll('.viewBtn').forEach(btn=> btn.onclick = ()=> alert('Product view coming soon'));
}

// adjust qty
cartItemsEl.addEventListener('click', (e)=>{
  if(e.target.classList.contains('inc')||e.target.classList.contains('dec')){
    const id = +e.target.dataset.id;
    const item = cart.find(c=>c.id===id);
    if(!item) return;
    if(e.target.classList.contains('inc')) item.qty++;
    else item.qty--;
    if(item.qty<=0) cart = cart.filter(c=>c.id!==id);
    updateCartUI();
  }
});

/* ---------------------- UI EVENTS ---------------------- */
searchEl?.addEventListener('input', ()=> renderProducts());
filterEl?.addEventListener('change', ()=> renderProducts());
sortEl?.addEventListener('change', ()=> renderProducts());

loadMoreBtn?.addEventListener('click', ()=>{
  visibleCount += 8;
  renderProducts();
});

// Mobile nav open/close
const mobileOpen = document.getElementById('mobileOpen');
const mobilePanel = document.getElementById('mobilePanel');
const mobileClose = document.getElementById('mobileClose');
mobileOpen?.addEventListener('click', ()=> mobilePanel.style.width = '280px');
mobileClose?.addEventListener('click', ()=> mobilePanel.style.width = '0');

// Dark toggle
const darkToggle = document.getElementById('darkToggle');
darkToggle.addEventListener('click', ()=>{
  document.documentElement.classList.toggle('dark');
  document.body.classList.toggle('bg-gray-900');
  document.body.classList.toggle('text-white');
});

// cart drawer
cartToggle?.addEventListener('click', openCart);
closeCartBtn?.addEventListener('click', closeCart);
function openCart(){ cartDrawer.style.width = '360px'; updateCartUI(); }
function closeCart(){ cartDrawer.style.width = '0'; }

// initial render
function init(){
  document.getElementById('year').textContent = new Date().getFullYear();
  renderProducts();
  // card entrance animation
  setTimeout(()=> document.querySelectorAll('.card-enter').forEach((c,i)=> setTimeout(()=> c.classList.add('show'), i*80)), 50);
}
init();

</script>
</body>
</html>
